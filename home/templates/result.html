{% extends "base_generic.html" %}

{#TODO pagination#}

{% block content %}

    {#    { % form_object % }#}
    {#    { % form_object_cleaned_data % }#}


    {#    <script>#}
    {#        var cars = ["BMW", "Volvo", "Saab", "Ford", "Fiat", "Audi"];#}
    {#        var text = "";#}
    {#        var i;#}
    {#        for (i = 0; i < cars.length; i++) {#}
    {#          text += cars[i] + "<br>";#}
    {#        }#}
    {#        document.getElementById("demo").innerHTML = text;#}
    {#    </script>#}



    {% for option_num, option_dict in content.items %}

        <table class="result_table">

            <tr>
                <td><a href="{{ option_dict.link }}"
                       target="_blank">Option {{ option_num }}</a></td>
                <td>{{ option_dict.price }}â‚¬</td>
                <td>{{ option_dict.duration_total }}</td>
            </tr>
        
            <tr>
                <td> {{ option_dict.outbound.departure_time }} </td>
                <td> {{ option_dict.outbound.duration }} </td>
                <td> {{ option_dict.outbound.arrival_time }} </td>
            </tr>

            <tr>
                <td> {{ option_dict.outbound.from }} </td>
                <td>
                    {% if option_dict.outbound.lst_stops != '' %}
                        via {{ option_dict.outbound.lst_stops }}
                    {% else %}
                        direct
                    {% endif %}
                </td>
                <td> {{ option_dict.outbound.to }} </td>
            </tr>

            <tr class="airlines_cell">
                <td colspan="3"> airline(s): {{ option_dict.outbound.lst_airlines }} </td>
            </tr>

            {% if option_dict.inbound %}

                <tr>
                    <td> {{ option_dict.inbound.departure_time }} </td>
                    <td> {{ option_dict.inbound.duration }} </td>
                    <td> {{ option_dict.inbound.arrival_time }} </td>
                </tr>

                <tr>
                    <td> {{ option_dict.inbound.from }} </td>
                    <td>
                        {% if option_dict.inbound.lst_stops != '' %}
                            via {{ option_dict.inbound.lst_stops }}
                        {% else %}
                            direct
                        {% endif %}
                    </td>
                    <td> {{ option_dict.inbound.to }} </td>
                </tr>

                <tr class="airlines_cell">
                    <td colspan="3"> airline(s): {{ option_dict.inbound.lst_airlines }} </td>
                </tr>

            {% endif %}

        </table>

        <br>
        <br>
    {% endfor %}


{% endblock %}

